<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-extensions/advanced/provisioning">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.22">
<link rel="alternate" type="application/rss+xml" href="/dashboard/blog/rss.xml" title="Rancher UI DevKit RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/dashboard/blog/atom.xml" title="Rancher UI DevKit Atom Feed"><title data-rh="true">Cluster Provisioning (RKE2 / Custom) | Rancher UI DevKit</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rancher.github.io/dashboard/extensions/advanced/provisioning"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cluster Provisioning (RKE2 / Custom) | Rancher UI DevKit"><meta data-rh="true" name="description" content="The UI provides a number of ways to customise the processes that creates RKE2/Custom clusters. This includes"><meta data-rh="true" property="og:description" content="The UI provides a number of ways to customise the processes that creates RKE2/Custom clusters. This includes"><link data-rh="true" rel="icon" href="/dashboard/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rancher.github.io/dashboard/extensions/advanced/provisioning"><link data-rh="true" rel="alternate" href="https://rancher.github.io/dashboard/extensions/advanced/provisioning" hreflang="en"><link data-rh="true" rel="alternate" href="https://rancher.github.io/dashboard/extensions/advanced/provisioning" hreflang="x-default"><link rel="stylesheet" href="/dashboard/assets/css/styles.fb8b9aec.css">
<link rel="preload" href="/dashboard/assets/js/runtime~main.42ece0cd.js" as="script">
<link rel="preload" href="/dashboard/assets/js/main.e2193eb0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dashboard/"><div class="navbar__logo"><img src="/dashboard/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/dashboard/img/rancher-logo-dark.svg" alt="Rancher Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">UI DevKit</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/dashboard/home">Docs</a><a class="navbar__item navbar__link" href="/dashboard/blog">Blog</a><a href="https://rancher.github.io/storybook/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Components &amp; Design kit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dashboard/home">Developer Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/dashboard/getting-started/quickstart">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/dashboard/guide/build-for-container-registry">Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/dashboard/code-base-works/api-resources-and-schemas">How the Code Base Works</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/dashboard/extensions/home">Extensions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Extensions&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/extensions/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/extensions/extensions-getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/dashboard/extensions/api/overview">Extensions API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Extensions API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/dashboard/extensions/advanced/air-gapped-environments">Advanced</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/extensions/advanced/air-gapped-environments">Air-gapped Environments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dashboard/extensions/advanced/provisioning">Cluster Provisioning (RKE2 / Custom)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/extensions/advanced/localization">Localization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/extensions/advanced/hooks">Hooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/extensions/advanced/stores">Custom VueX Stores</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/extensions/advanced/version-compatibility">Version compatibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/extensions/advanced/safe-mode">Safe Mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/extensions/advanced/yarn-link">Using yarn link</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/extensions/publishing">Publishing an Extension</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/dashboard/extensions/usecases/overview">Use cases/Examples</a><button aria-label="Toggle the collapsible sidebar category &#x27;Use cases/Examples&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dashboard/storybook">Storybook</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/dashboard/testing/unit-test">Testing</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dashboard/terminology">Terminology</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/dashboard/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/dashboard/extensions/home"><span itemprop="name">Extensions</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Advanced</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cluster Provisioning (RKE2 / Custom)</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Cluster Provisioning (RKE2 / Custom)</h1><p>The UI provides a number of ways to customise the processes that creates RKE2/Custom clusters. This includes</p><ul><li>Adding additional Cluster Provisioner types</li><li>Customising or replacing components used in the create process</li><li>Additional tabs</li><li>Hooks in to the processes that persist cluster resources</li><li>Overrides that replace the process to persist cluster resources</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-components">Custom Components<a class="hash-link" href="#custom-components" title="Direct link to heading">​</a></h2><p>Existing components that manage cloud credentials and machine configuration can be replaced as per <a href="/dashboard/extensions/api/components/node-drivers">Custom Node Driver UI</a>. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-cluster-provisioner">Custom Cluster Provisioner<a class="hash-link" href="#custom-cluster-provisioner" title="Direct link to heading">​</a></h2><p>New cluster provisioners can be added that can tailor the create/edit experience for their own needs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">​</a></h3><p>Creating a cluster revolves around two resources</p><ul><li>The machine configuration<ul><li>The machine configuration defines how the individual nodes within a node pool will be provisioned. For instance which region and size they may be</li><li>These normally have an type of <code>rke-machine-config.cattle.io.&lt;provider name&gt;config</code>, which matches the id of it&#x27;s schema object</li></ul></li><li>The provisioning cluster<ul><li>The <code>provisioning.cattle.io.cluster</code> which, aside from machine configuration, contains all details of the cluster</li><li>In the UI this is an instance of the <code>rancher/dashboard</code> <code>shell/models/provisioning.cattle.io.cluster.js</code> class<ul><li>This has lots of great helper functions, most importantly <code>save</code></li></ul></li><li>Cluster provisioners should always create an instance of this class</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="provisioner-class">Provisioner Class<a class="hash-link" href="#provisioner-class" title="Direct link to heading">​</a></h3><p>To customise the process of creating or editing these resources the extension should register a provisioner class which implements the <code>IClusterProvisioner</code> interface.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  plugin.register(&#x27;provisioner&#x27;, &#x27;my-provisioner&#x27;, ExampleProvisioner);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note that <code>register</code> allows us to register an arbitrary extension and we introduce the type <code>provisioner</code>.</p></blockquote><p>Below is outline for the functionality the class provides, for detail about the <code>IClusterProvisioner</code> interface see the inline documentation.</p><p>The class provides a way to...</p><ol><li>show a card for the new cluster type for the user to choose when selecting a provider</li><li>handle custom machine configs that haven&#x27;t necessarily been provided by the usual node driver way</li><li>hooks to extend/override the cluster save process. Either..<ul><li>Override all of the cluster save process</li><li>Extend/Override parts of the cluster save process. This allows a lot of the boilerplate code to manage addons, member bindings, etc to run<ul><li>run code before the cluster resource is saved</li><li>replace the code that saves the core cluster</li><li>run code after the cluster resource is saved</li></ul></li></ul></li><li>show a custom label for the provider of the custom cluster<ul><li>This is done by setting the <code>ui.rancher/provider</code> annotation in the cluster</li><li>It&#x27;s used in the UI whenever showing the cluster&#x27;s provider</li></ul></li><li>show custom tabs on the Detail page of the custom cluster</li></ol><blockquote><p>To make API calls from the UI to a different domain see <a href="/dashboard/code-base-works/machine-drivers#api-calls">here</a>. For instance to fetch region or machine size information used to create a machine config</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="components">Components<a class="hash-link" href="#components" title="Direct link to heading">​</a></h3><p>When creating or editing a cluster the user can see the cloud credential and machine pool components.</p><p>These can be provided as per the <code>Custom Components</code> section.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  plugin.register(&#x27;cloud-credential&#x27;, &#x27;my-provisioner&#x27;, false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  plugin.register(&#x27;machine-config&#x27;, &#x27;my-provisioner&#x27;, () =&gt; import(&#x27;./src/test.vue&#x27;));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>This example registers that no cloud credential is needed and registers a custom component to be used for Machine Configuration within a node/machine pool - this is the same as with Node Drivers - e.g. with the OpenStack node driver example.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-tabs-in-the-clusters-cluster-configuration">Custom tabs in the Cluster&#x27;s Cluster Configuration<a class="hash-link" href="#custom-tabs-in-the-clusters-cluster-configuration" title="Direct link to heading">​</a></h3><p>When creating or editing the cluster the user can see a set of <code>Cluster Configuration</code> tabs that contain configuration applicable to the entire cluster.</p><p>Extensions can add additional tabs here.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  plugin.addTab(TabLocation.CLUSTER_CREATE_RKE2, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource:     [&#x27;provisioning.cattle.io.cluster&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    queryParam:    { type: ExampleProvisioner.ID }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:      &#x27;custom-cluster-config&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labelKey:     &#x27;exampleClusterConfigTab.tabLabel&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    component: () =&gt; import(&#x27;./src/example-cluster-config-tab.vue&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note we use the new <code>queryParam</code> property to allow us to target the tab only when the cluster is of our provider type.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-tabs-in-the-clusters-detail-page">Custom tabs in the Cluster&#x27;s detail page<a class="hash-link" href="#custom-tabs-in-the-clusters-detail-page" title="Direct link to heading">​</a></h3><p>When clicking on a created cluster in the UI the user is shown details for the cluster. This page has some tabs which may not be applicable to the custom provider. The provider class has a way to hide these. To add a new custom tab the following can be used</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  plugin.addTab(TabLocation.RESOURCE_DETAIL, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource:     [&#x27;provisioning.cattle.io.cluster&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context:   { provider: ExampleProvisioner.ID }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:      &#x27;custom&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    label:     &#x27;Custom Tab&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    component: () =&gt; import(&#x27;./src/example-tab.vue&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note we use the new <code>context</code> property to allow us to target the tab only when the cluster is of our provider type.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="localisation">Localisation<a class="hash-link" href="#localisation" title="Direct link to heading">​</a></h3><p>The custom cluster type&#x27;s label is defined as per any other extension text in <code>l10n/en-us.yaml</code> as <code>cluster.provider.&lt;provider name&gt;</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-07-27T10:39:53.000Z">Jul 27, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/dashboard/extensions/advanced/air-gapped-environments"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Air-gapped Environments</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dashboard/extensions/advanced/localization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Localization</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#custom-components" class="table-of-contents__link toc-highlight">Custom Components</a></li><li><a href="#custom-cluster-provisioner" class="table-of-contents__link toc-highlight">Custom Cluster Provisioner</a><ul><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li><li><a href="#provisioner-class" class="table-of-contents__link toc-highlight">Provisioner Class</a></li><li><a href="#components" class="table-of-contents__link toc-highlight">Components</a></li><li><a href="#custom-tabs-in-the-clusters-cluster-configuration" class="table-of-contents__link toc-highlight">Custom tabs in the Cluster&#39;s Cluster Configuration</a></li><li><a href="#custom-tabs-in-the-clusters-detail-page" class="table-of-contents__link toc-highlight">Custom tabs in the Cluster&#39;s detail page</a></li><li><a href="#localisation" class="table-of-contents__link toc-highlight">Localisation</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Rancher. All rights reserved.</div></div></div></footer></div>
<script src="/dashboard/assets/js/runtime~main.42ece0cd.js"></script>
<script src="/dashboard/assets/js/main.e2193eb0.js"></script>
</body>
</html>